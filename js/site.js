/*! uw Wed Jul 16 2014 10:59:50 */
(function(){jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin(2*(b*e-f)*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=.3*e*1.5),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return e/2>b?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}});var a=this,b=function(a){return a instanceof b?a:this instanceof b?void(this._wrapped=a):new b(a)};a.UW=b,b.VERSION="0.1",b.elements={search:".uw-search",slideshow:".uw-slideshow",social:".uw-social",vimeo:".uw-vimeo",select:".uw-select"},b.initialize=function(a){b.search=_.map(a(b.elements.search),function(a){return new b.Search({el:a,model:new b.Search.DirectoryModel})}),b.slideshows=_.map(a(b.elements.slideshow),function(a){return new b.Slideshow({el:a})}),b.social=_.map(a(b.elements.social),function(a){return new b.Social({el:a})}),b.vimeo=_.map(a(b.elements.vimeo),function(a){return new b.Vimeo({el:a})}),b.select=_.map(a(b.elements.select),function(a){return new b.Select({el:a})})},jQuery(document).ready(b.initialize),b.Search=Backbone.View.extend({value:"",body:"body",searchbar:'<div class="uw-search-bar-container"><div class="container"><div class="center-block uw-search-wrapper"><form class="uw-search" action="/search/"><input type="search" name="q" value="" autocomplete="off" /></form><a href="#" value="" class="search" /><div class="labels"><label class="radio"><input type="radio" name="group1" value="1" data-toggle="radio">All the UW</label><label class="radio"><input type="radio" name="group1" value="2" data-toggle="radio">Current Site</label><label class="radio"><input type="radio" name="group1" value="2" data-toggle="radio" checked>People Directory</label></div><div class="uw-results"></div></div></div></div>',result:'<div class="result"><h4><%= cn[0] %></h4></div>',defaults:{limit:2},events:{click:"toggleSearchBar"},initialize:function(a){_.bindAll(this,"toggleSearchBar","searchDirectory","parse"),this.settings=_.extend({},this.defaults,this.$el.data(),a),this.$searchbar=$(_.template(this.searchbar,this.settings)),this.render(),this.model.on("change:results",this.parse,this)},render:function(){$(this.body).prepend(this.$searchbar),this.$searchbar.find("input").bind("keydown",this.searchDirectory)},toggleSearchBar:function(){return this.empty(),this.$searchbar.toggleClass("open"),!1},searchDirectory:_.debounce(function(a){if(this.value!==a.target.value){if(a.target.value.length<this.settings.limit)return this.empty();if(!a.target.value.length)return this.empty();this.value=a.target.value,this.model.search(this.value)}},200),empty:function(){$(".uw-results").empty()},parse:function(a){var b=a.attributes.results,c=this.result,d=$(".uw-results");this.empty(),_.each(b,function(a){var b=_.template(c,a);d.append(b)})}}),b.Search.DirectoryModel=Backbone.Model.extend({settings:{action:"directory",search:""},url:"/cms/2014/wp-admin/admin-ajax.php",search:function(a){this.settings.search=a,this.fetch({data:this.settings})},parse:function(a){a&&this.set("results",a)}}),b.Slideshow=Backbone.View.extend({el:".uw-slideshow",current:0,controls:'<a href="#" class="<%= classname %> next fui-arrow-right"></a><a href="#" class="<%= classname %> previous fui-arrow-left"></a>',animation:{},settings:{slideclass:".slide",controlclasses:{base:"uw-slideshow-controls",lastNext:"last-next",lastPrev:"last-previous"},animationOptions:{easing:"easeOutQuint",duration:1200,queue:!1}},events:{"click .previous":"animateIn","click .next":"animateOut"},initialize:function(a){this.options=_.extend({},this.settings,a),_.bindAll(this,"animateIn","animateOut","addControls"),this.controls=_.template(this.controls,{classname:this.options.controlclasses.base}),this.numberOfSlides=this.$el.find(".slide").length-1,this.organizeSlideshow(),this.addControls()},organizeSlideshow:function(){this.$(".slide").each(this.zIndex)},addControls:function(){this.$el.append(this.controls),this.$el.find(this.options.controlclass),this.$el.addClass(this.options.controlclasses.lastPrev)},animateIn:function(){return this.direction="in",this.current=this.current<0?-1:this.current-1,this.animation.textLeft=0,this.animation.imageLeft=0,this.animate(),this.current=this.current<0?0:this.current,this.toggleClasses(),!1},animateOut:function(){return this.direction="out",this.animation.textLeft="-200%",this.animation.imageLeft="100%",this.animate(),this.current=this.current===this.numberOfSlides?this.numberOfSlides:this.current+1,this.toggleClasses(),!1},animate:function(){this.nextSlideExists()&&this.$(this.options.slideclass).eq(this.current).animate({left:this.animation.imageLeft},this.options.animationOptions).find("div").animate({left:this.animation.textLeft},this.options.animationOptions)},toggleClasses:function(){return 0===this.current||this.current===this.numberOfSlides?this.$el.addClass("out"===this.direction?this.options.controlclasses.lastNext:this.options.controlclasses.lastPrev):this.$el.removeClass(this.options.controlclasses.lastNext+" "+this.options.controlclasses.lastPrev)},nextSlideExists:function(){return this.current<0&&"in"===this.direction||this.current===this.numberOfSlides&&"out"===this.direction?!1:!0},zIndex:function(){var a=$(this);a.css({zIndex:-1*a.index()})}}),b.Vimeo=Backbone.View.extend({el:".uw-vimeo",events:{"click .preview":"loadVideo"},templates:{video:'<iframe id="test" src="http://player.vimeo.com/video/<%= video %>/?<%= $.param( defaults ) %>" width=<%= width %> height=<%= height %> frameborder=0 webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',playlist:'<div class="playlist"><% _.each( videos, function( video ) { %><div class="preview" data-id=<%= video.id %>><img src="<%= video.thumbnail_small %>" height=75 width=100 title="<%= video.title %>"/></div><% }) %></div>'},settings:{width:580,height:350},defaults:{api:1,title:0,portrait:0,byline:0,color:"4B2E82"},initialize:function(a){_.bindAll(this,"single","playlist","loadVideo"),this.options=_.extend({},this.settings,this.$el.data(),a),this.options.defaults=this.defaults,this.$el.width(this.options.width),this.options.video&&(this.video=new b.Vimeo.Video(this.options.video),this.video.on("sync",this.single)),this.options.username&&(this.videos=new b.Vimeo.Playlist({username:this.options.username}),this.videos.on("sync",this.playlist))},single:function(){this.player=_.template(this.templates.video,this.options),this.$el.html(this.player)},playlist:function(){_.extend(this.options,{video:this.videos.first().get("id")}),this.player=_.template(this.templates.video,this.options),this.videoList=_.template(this.templates.playlist,{videos:this.videos.toJSON()}),this.$el.html(this.player),this.$el.append(this.videoList)},loadVideo:function(a){var b=this.$el.find("iframe"),c=_.last(b.attr("src").split("?")),d="http://player.vimeo.com/video/"+$(a.currentTarget).data().id+"/?"+c;b.attr("src",d)}}),b.Vimeo.Video=Backbone.Model.extend({url:function(){return"http://vimeo.com/api/v2/video/"+this.video+".json"},parse:function(a){return _.first(a)},initialize:function(a){this.video=a,this.fetch()}}),b.Vimeo.Playlist=Backbone.Collection.extend({url:function(){return"http://vimeo.com/api/v2/"+this.username+"/videos.json"},initialize:function(a){this.username=a.username,this.fetch()},parse:function(a){return _.where(a,{embed_privacy:"anywhere"})}}),b.Select=Backbone.View.extend({el:".uw-select",current:0,keyCodes:{enter:13,spacebar:32,tab:9,up:38,down:40},events:{"keydown li":"openMenuOnKeydown","click li.active":"open","click li.inactive":"close"},template:'<div class="uw-select-mask"><ul class="uw-select"><% _.each( lis, function( title, value ) { %><li data-value="<%= value %>"><a href="#"><%= title %></a></li><% }) %></ul><span class="uw-select-arrow"></span></div>',initialize:function(a){_.bindAll(this,"open","close","addOpenClass","removeOpenClass"),this.options=_.extend({},this.settings,this.$el.data(),a),this.parseSelect(),this.render()},open:function(){this.addOpenClass()},close:function(a){this.clicked=!0,this.$target=$(a.currentTarget),this.current=this.$target.index(),this.animate(),this.toggleLIClasses(),this.cloneSelectEvents()},animate:function(){this.$el.animate({marginTop:this.current*-this.$target.outerHeight()},{queue:!1,complete:this.removeOpenClass})},cloneSelectEvents:function(){this.$select.val(this.$el.find("li").eq(this.current).data().value)},render:function(){this.html=_.template(this.template,{lis:this.LIs}),this.$el.hide().after(this.html),this.$select=this.$el,this.setElement(this.$el.next().children("ul")),this.toggleLIClasses()},parseSelect:function(){var a=_.map(this.$el.find("option"),this.getValue),b=_.map(this.$el.find("option"),this.getText);this.current=this.$el.find(":selected").index(),this.LIs=_.object(a,b)},toggleLIClasses:function(){this.$el.find("li").removeClass().addClass("inactive"),this.$el.find("li").eq(this.current).removeClass().addClass("active")},addOpenClass:function(){this.$el.addClass("open")},removeOpenClass:function(a){(this.clicked||a)&&(this.$el.removeClass("open"),this.clicked=!1)},getText:function(a){return $(a).text()},getValue:function(a){return a.value},openMenuOnKeydown:function(a){if(a.keyCode==this.keyCodes.tab&&!this.isOpen())return!0;if(_.contains(this.keyCodes,a.keyCode)){switch(this.isOpen()||this.open(),a.keyCode){case this.keyCodes.down:this.down();break;case this.keyCodes.up:this.up();break;case this.keyCodes.enter:case this.keyCodes.spacebar:this.current!=this.$select.val()&&(this.removeOpenClass(!0),this.toggleLIClasses(),this.cloneSelectEvents())}return!1}},up:function(){this.atEdge("up")||(this.current-=1,this.move())},down:function(){this.atEdge("down")||(this.current+=1,this.move())},move:function(){this.$target=this.$el.find("li").eq(this.current),this.$target.find("a").focus(),this.animate()},atEdge:function(a){return 0===this.current&&"up"===a||this.current===this.$el.find("li").length-1&&"down"===a},isOpen:function(){return this.$el.hasClass("open")}}),b.Social=Backbone.View.extend({el:".uw-social",template:'<ul><% if ( _.isString( facebook ) ) { %> <li><a class="uw-social-facebook" href="http://www.facebook.com/sharer.php?u=<%= url %>">Facebook</a></li> <% } %><% if ( _.isString( twitter ) ) { %> <li><a class="uw-social-twitter" href="http://twitter.com/?status=<%= url %>">Twitter</a></li> <% } %><% if ( _.isString( reddit ) ) { %> <li><a class="uw-social-reddit" href="http://reddit.com/submit?url=<%= url %>">Reddit</a></li> <% } %><% if ( _.isString( digg ) ) { %> <li><a class="uw-social-reddit" href="http://digg.com/submit?url=<%= url %>">Digg</a></li> <% } %><% if ( _.isString( stumbleupon ) ) { %> <li><a class="uw-social-reddit" href="http://www.stumbleupon.com/submit?url=<%= url %>">StumbleUpon</a></li> <% } %></ul>',settings:{facebook:!1,twitter:!1,reddit:!1,digg:!1,stumbleupon:!1,url:document.URL},initialize:function(a){this.options=_.extend({},this.settings,this.$el.data(),a),this.buttons=_.template(this.template,this.options),this.$el.html(this.buttons)}})}).call(this);