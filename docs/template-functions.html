<!DOCTYPE html>

<html>
<head>
  <title>template-functions.php</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="404.html">
                404.php
              </a>
            
              
              <a class="source" href="application.html">
                application.php
              </a>
            
              
              <a class="source" href="archive.html">
                archive.php
              </a>
            
              
              <a class="source" href="breadcrumbs.html">
                breadcrumbs.php
              </a>
            
              
              <a class="source" href="comments.html">
                comments.php
              </a>
            
              
              <a class="source" href="content-archive.html">
                content-archive.php
              </a>
            
              
              <a class="source" href="content-image.html">
                content-image.php
              </a>
            
              
              <a class="source" href="content-page.html">
                content-page.php
              </a>
            
              
              <a class="source" href="content-pdf.html">
                content-pdf.php
              </a>
            
              
              <a class="source" href="content.html">
                content.php
              </a>
            
              
              <a class="source" href="footer.html">
                footer.php
              </a>
            
              
              <a class="source" href="functions.html">
                functions.php
              </a>
            
              
              <a class="source" href="header-image.html">
                header-image.php
              </a>
            
              
              <a class="source" href="header.html">
                header.php
              </a>
            
              
              <a class="source" href="image.html">
                image.php
              </a>
            
              
              <a class="source" href="template-functions.html">
                template-functions.php
              </a>
            
              
              <a class="source" href="index.html">
                index.php
              </a>
            
              
              <a class="source" href="uw.html">
                uw.js
              </a>
            
              
              <a class="source" href="menu-mobile.html">
                menu-mobile.php
              </a>
            
              
              <a class="source" href="page.html">
                page.php
              </a>
            
              
              <a class="source" href="search.html">
                search.php
              </a>
            
              
              <a class="source" href="searchform.html">
                searchform.php
              </a>
            
              
              <a class="source" href="class.button-shortcode.html">
                class.button-shortcode.php
              </a>
            
              
              <a class="source" href="class.dropdowns_walker.html">
                class.dropdowns_walker.php
              </a>
            
              
              <a class="source" href="class.filters.html">
                class.filters.php
              </a>
            
              
              <a class="source" href="class.googleapps.html">
                class.googleapps.php
              </a>
            
              
              <a class="source" href="class.images.html">
                class.images.php
              </a>
            
              
              <a class="source" href="class.install.html">
                class.install.php
              </a>
            
              
              <a class="source" href="class.mimes.html">
                class.mimes.php
              </a>
            
              
              <a class="source" href="class.squish_bugs.html">
                class.squish_bugs.php
              </a>
            
              
              <a class="source" href="class.tile-box-shortcode.html">
                class.tile-box-shortcode.php
              </a>
            
              
              <a class="source" href="class.trumba-shortcode.html">
                class.trumba-shortcode.php
              </a>
            
              
              <a class="source" href="class.users.html">
                class.users.php
              </a>
            
              
              <a class="source" href="class.uw-carousel.html">
                class.uw-carousel.php
              </a>
            
              
              <a class="source" href="class.uw-directory.html">
                class.uw-directory.php
              </a>
            
              
              <a class="source" href="class.uw-documentation.html">
                class.uw-documentation.php
              </a>
            
              
              <a class="source" href="class.uw-dropdowns.html">
                class.uw-dropdowns.php
              </a>
            
              
              <a class="source" href="class.uw-enclosure.html">
                class.uw-enclosure.php
              </a>
            
              
              <a class="source" href="class.uw-iframes.html">
                class.uw-iframes.php
              </a>
            
              
              <a class="source" href="class.uw-media-caption.html">
                class.uw-media-caption.php
              </a>
            
              
              <a class="source" href="class.uw-media-credit.html">
                class.uw-media-credit.php
              </a>
            
              
              <a class="source" href="class.uw-oembeds.html">
                class.uw-oembeds.php
              </a>
            
              
              <a class="source" href="class.uw-page-attributes-meta-box.html">
                class.uw-page-attributes-meta-box.php
              </a>
            
              
              <a class="source" href="class.uw-quicklinks.html">
                class.uw-quicklinks.php
              </a>
            
              
              <a class="source" href="class.uw-replace-media.html">
                class.uw-replace-media.php
              </a>
            
              
              <a class="source" href="class.uw-scripts.html">
                class.uw-scripts.php
              </a>
            
              
              <a class="source" href="class.uw-shortcodes.html">
                class.uw-shortcodes.php
              </a>
            
              
              <a class="source" href="class.uw-styles.html">
                class.uw-styles.php
              </a>
            
              
              <a class="source" href="class.uw-tinymce.html">
                class.uw-tinymce.php
              </a>
            
              
              <a class="source" href="class.uw.html">
                class.uw.php
              </a>
            
              
              <a class="source" href="class.youtube-shortcode.html">
                class.youtube-shortcode.php
              </a>
            
              
              <a class="source" href="sidebar.html">
                sidebar.php
              </a>
            
              
              <a class="source" href="template-big-hero.html">
                template-big-hero.php
              </a>
            
              
              <a class="source" href="template-no-hero.html">
                template-no-hero.php
              </a>
            
              
              <a class="source" href="template-no-sidebar.html">
                template-no-sidebar.php
              </a>
            
              
              <a class="source" href="template-no-title.html">
                template-no-title.php
              </a>
            
              
              <a class="source" href="template-small-hero.html">
                template-small-hero.php
              </a>
            
              
              <a class="source" href="thinstrip.html">
                thinstrip.php
              </a>
            
              
              <a class="source" href="class.uw-blogroll.html">
                class.uw-blogroll.php
              </a>
            
              
              <a class="source" href="class.uw-campus-map.html">
                class.uw-campus-map.php
              </a>
            
              
              <a class="source" href="class.uw-intro.html">
                class.uw-intro.php
              </a>
            
              
              <a class="source" href="class.uw-recent-posts.html">
                class.uw-recent-posts.php
              </a>
            
              
              <a class="source" href="class.uw-related-posts.html">
                class.uw-related-posts.php
              </a>
            
              
              <a class="source" href="class.uw-rss.html">
                class.uw-rss.php
              </a>
            
              
              <a class="source" href="class.uw-sidebar.html">
                class.uw-sidebar.php
              </a>
            
              
              <a class="source" href="class.uw-single-image.html">
                class.uw-single-image.php
              </a>
            
              
              <a class="source" href="class.uw-top-posts.html">
                class.uw-top-posts.php
              </a>
            
              
              <a class="source" href="class.uw-twitter.html">
                class.uw-twitter.php
              </a>
            
              
              <a class="source" href="class.uw-widget-visibility.html">
                class.uw-widget-visibility.php
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>template-functions.php</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-preprocessor">&lt;?php</span></pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>UW Dropdown Menus</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">if</span> ( ! function_exists(<span class="hljs-string">'uw_content_class'</span>) ) :
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uw_content_class</span><span class="hljs-params">( <span class="hljs-variable">$class</span> = <span class="hljs-string">''</span> )</span>
  </span>{
    <span class="hljs-keyword">echo</span> <span class="hljs-string">'class="'</span> . join( <span class="hljs-string">' '</span>, get_uw_content_class( <span class="hljs-variable">$class</span> ) ) . <span class="hljs-string">'"'</span>;
  }
<span class="hljs-keyword">endif</span>;

<span class="hljs-keyword">if</span> ( ! function_exists(<span class="hljs-string">'get_uw_content_class'</span>) ) :
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get_uw_content_class</span><span class="hljs-params">( <span class="hljs-variable">$class</span> = <span class="hljs-string">''</span> )</span>
  </span>{
    <span class="hljs-variable">$classes</span> = <span class="hljs-keyword">array</span>( <span class="hljs-string">'uw-content'</span> );
    <span class="hljs-keyword">if</span> ( uw_has_sidebar() )
      <span class="hljs-variable">$classes</span>[] = <span class="hljs-string">'col-md-8'</span>;
    <span class="hljs-keyword">else</span>
      <span class="hljs-variable">$classes</span>[] = <span class="hljs-string">'col-md-12'</span>;

    <span class="hljs-variable">$classes</span> = array_map( <span class="hljs-string">'esc_attr'</span>, <span class="hljs-variable">$classes</span> );

    <span class="hljs-keyword">return</span> apply_filters( <span class="hljs-string">'uw_content_class'</span>, <span class="hljs-variable">$classes</span>, <span class="hljs-variable">$class</span> );
  }
<span class="hljs-keyword">endif</span>;

<span class="hljs-keyword">if</span> ( ! function_exists( <span class="hljs-string">'uw_has_sidebar'</span> ) ) :
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uw_has_sidebar</span><span class="hljs-params">()</span>
  </span>{
    <span class="hljs-keyword">global</span> <span class="hljs-variable">$post</span>;

    <span class="hljs-keyword">if</span> ( is_404() ) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;

    <span class="hljs-keyword">return</span> get_post_format( <span class="hljs-variable">$post</span><span class="hljs-variable">-&gt;ID</span> ) != <span class="hljs-string">'gallery'</span> || is_archive() || is_search() || is_404();
  }
<span class="hljs-keyword">endif</span>;

<span class="hljs-keyword">if</span> ( ! function_exists( <span class="hljs-string">'uw_dropdowns'</span>) )
{
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uw_dropdowns</span><span class="hljs-params">()</span>
  </span>{

    <span class="hljs-keyword">echo</span>
        <span class="hljs-string">'&lt;nav id="dawgdrops" aria-label="Main menu" role="navigation"&gt;&lt;div class="dawgdrops-inner container" role="application"&gt;'</span>;

          wp_nav_menu( <span class="hljs-keyword">array</span>(
            <span class="hljs-string">'theme_location'</span>  =&gt; UW_Dropdowns::LOCATION,
            <span class="hljs-string">'container'</span>       =&gt; <span class="hljs-keyword">false</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>‘container_class’ =&gt; ‘dawgdrops-inner container’,</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-string">'menu_class'</span>      =&gt; <span class="hljs-string">'dawgdrops-nav'</span>,
            <span class="hljs-string">'fallback_cb'</span>     =&gt; <span class="hljs-string">''</span>,
            <span class="hljs-string">'walker'</span>          =&gt; <span class="hljs-keyword">new</span> UW_Dropdowns_Walker_Menu()
          ) );

    <span class="hljs-keyword">echo</span> <span class="hljs-string">'&lt;/div&gt;&lt;/nav&gt;'</span>;
  }

}

<span class="hljs-keyword">if</span> ( ! function_exists(<span class="hljs-string">'uw_sidebar_menu'</span>) ) :

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uw_sidebar_menu</span><span class="hljs-params">()</span>
  </span>{
    <span class="hljs-keyword">echo</span> sprintf( <span class="hljs-string">'&lt;nav role="navigation" aria-label="relative"&gt;%s&lt;/nav&gt;'</span>, uw_list_pages() ) ;
  }

<span class="hljs-keyword">endif</span>;

<span class="hljs-keyword">if</span> ( ! function_exists( <span class="hljs-string">'uw_mobile_menu'</span> ) ) :

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uw_mobile_menu</span><span class="hljs-params">()</span>
  </span>{
    <span class="hljs-keyword">echo</span> sprintf( <span class="hljs-string">'&lt;nav role="navigation" aria-label="relative"&gt;%s&lt;/nav&gt;'</span>, uw_list_mobile_pages() ) ;
  }

<span class="hljs-keyword">endif</span>;

<span class="hljs-keyword">if</span> ( ! function_exists( <span class="hljs-string">'uw_mobile_front_page_menu'</span> ) ) :

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uw_mobile_front_page_menu</span><span class="hljs-params">()</span>
  </span>{
    <span class="hljs-keyword">echo</span> sprintf( <span class="hljs-string">'&lt;nav role="navigation" aria-label="relative"&gt;%s&lt;/nav&gt;'</span>, uw_list_front_page_menu_items() ) ;
  }

<span class="hljs-keyword">endif</span>;

<span class="hljs-keyword">if</span> ( ! function_exists( <span class="hljs-string">'uw_list_pages'</span>) ) :

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uw_list_pages</span><span class="hljs-params">( <span class="hljs-variable">$mobile</span> = false )</span>
  </span>{
    <span class="hljs-keyword">global</span> <span class="hljs-variable">$post</span>;

    <span class="hljs-variable">$parent</span> = get_post( <span class="hljs-variable">$post</span><span class="hljs-variable">-&gt;post_parent</span> );

    <span class="hljs-keyword">if</span> ( ! <span class="hljs-variable">$mobile</span> &amp;&amp; ! get_children( <span class="hljs-variable">$post</span><span class="hljs-variable">-&gt;ID</span> ) &amp;&amp; <span class="hljs-variable">$parent</span><span class="hljs-variable">-&gt;ID</span> == <span class="hljs-variable">$post</span><span class="hljs-variable">-&gt;ID</span> ) <span class="hljs-keyword">return</span>;

    <span class="hljs-variable">$toggle</span> = <span class="hljs-variable">$mobile</span> ? <span class="hljs-string">'&lt;span class="uw-mobile-menu-toggle"&gt;Menu&lt;/span&gt;'</span> : <span class="hljs-string">''</span>;
    <span class="hljs-variable">$class</span>  = <span class="hljs-variable">$mobile</span> ? <span class="hljs-string">'uw-mobile-menu'</span> : <span class="hljs-string">'uw-sidebar-menu'</span>;

    <span class="hljs-variable">$siblings</span> = get_pages( <span class="hljs-keyword">array</span> (
      <span class="hljs-string">'parent'</span>    =&gt; <span class="hljs-variable">$parent</span><span class="hljs-variable">-&gt;post_parent</span>,
      <span class="hljs-string">'post_type'</span> =&gt; <span class="hljs-string">'page'</span>,
      <span class="hljs-string">'exclude'</span>   =&gt; <span class="hljs-variable">$parent</span><span class="hljs-variable">-&gt;ID</span>
    ) );

    <span class="hljs-variable">$ids</span> = ! is_front_page() ? array_map( <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(<span class="hljs-variable">$sibling</span>)</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-variable">$sibling</span><span class="hljs-variable">-&gt;ID</span>; }, <span class="hljs-variable">$siblings</span> ) : <span class="hljs-keyword">array</span>();

    <span class="hljs-variable">$pages</span> = wp_list_pages(<span class="hljs-keyword">array</span>(
      <span class="hljs-string">'title_li'</span>     =&gt; <span class="hljs-string">'&lt;a href="'</span>.get_bloginfo(<span class="hljs-string">'url'</span>).<span class="hljs-string">'" title="Home" class="homelink"&gt;Home&lt;/a&gt;'</span>,
      <span class="hljs-string">'child_of'</span>     =&gt; <span class="hljs-variable">$parent</span><span class="hljs-variable">-&gt;post_parent</span>,
      <span class="hljs-string">'exclude_tree'</span> =&gt; <span class="hljs-variable">$ids</span>,
      <span class="hljs-string">'depth'</span>        =&gt; <span class="hljs-number">3</span>,
      <span class="hljs-string">'echo'</span>         =&gt; <span class="hljs-number">0</span>
    ));

    <span class="hljs-keyword">return</span> <span class="hljs-variable">$pages</span> ? sprintf( <span class="hljs-string">'&lt;ul class="%s first-level"&gt;%s%s&lt;/ul&gt;'</span>, <span class="hljs-variable">$class</span>, <span class="hljs-variable">$toggle</span>, <span class="hljs-variable">$pages</span> ) : <span class="hljs-string">''</span>;

  }

<span class="hljs-keyword">endif</span>;

<span class="hljs-keyword">if</span> ( ! function_exists( <span class="hljs-string">'uw_list_mobile_pages'</span> ) ) :

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uw_list_mobile_pages</span><span class="hljs-params">()</span>
  </span>{
    <span class="hljs-keyword">if</span> ( ! is_front_page() ) <span class="hljs-keyword">return</span> uw_list_pages( <span class="hljs-variable">$mobile</span> = <span class="hljs-keyword">true</span> );

    <span class="hljs-variable">$locations</span> = get_nav_menu_locations();

    <span class="hljs-variable">$menu</span>      = wp_get_nav_menu_object( <span class="hljs-variable">$locations</span>[ UW_Dropdowns::LOCATION ] );

    <span class="hljs-keyword">if</span> ( ! <span class="hljs-variable">$menu</span> ) <span class="hljs-keyword">return</span>;

    <span class="hljs-variable">$items</span>     = wp_get_nav_menu_items( <span class="hljs-variable">$menu</span><span class="hljs-variable">-&gt;term_id</span> );

    <span class="hljs-variable">$toggle</span>    = <span class="hljs-string">'&lt;span class="uw-mobile-menu-toggle"&gt;Menu&lt;/span&gt;'</span>;


    <span class="hljs-keyword">foreach</span>( <span class="hljs-variable">$items</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$item</span> )
    {
      <span class="hljs-keyword">if</span> ( <span class="hljs-variable">$item</span><span class="hljs-variable">-&gt;menu_item_parent</span> != <span class="hljs-number">0</span> ) <span class="hljs-keyword">continue</span>;
      <span class="hljs-variable">$ids</span>[] = <span class="hljs-variable">$item</span><span class="hljs-variable">-&gt;object_id</span>;
    }

    <span class="hljs-variable">$pages</span> = wp_list_pages(<span class="hljs-keyword">array</span>(
      <span class="hljs-string">'title_li'</span>     =&gt; <span class="hljs-string">'&lt;a href="'</span>.get_bloginfo(<span class="hljs-string">'url'</span>).<span class="hljs-string">'" title="Home" class="homelink"&gt;Home&lt;/a&gt;'</span>,
      <span class="hljs-string">'include'</span>      =&gt; implode( <span class="hljs-string">','</span>, <span class="hljs-variable">$ids</span> ),
      <span class="hljs-string">'sort_order'</span>   =&gt; <span class="hljs-string">'menu_order'</span>,
      <span class="hljs-string">'depth'</span>        =&gt; <span class="hljs-number">1</span>,
      <span class="hljs-string">'echo'</span>         =&gt; <span class="hljs-number">0</span>
    ));

    <span class="hljs-keyword">return</span> <span class="hljs-variable">$pages</span> ? sprintf( <span class="hljs-string">'&lt;ul class="uw-mobile-menu first-level"&gt;%s%s&lt;/ul&gt;'</span>, <span class="hljs-variable">$toggle</span>, <span class="hljs-variable">$pages</span> ) : <span class="hljs-string">''</span>;

  }

<span class="hljs-keyword">endif</span>;

<span class="hljs-keyword">if</span> ( ! function_exists( <span class="hljs-string">'uw_list_front_page_menu_items'</span> ) ) :

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uw_list_front_page_menu_items</span><span class="hljs-params">()</span>
</span>{
      <span class="hljs-variable">$toggle</span> = <span class="hljs-string">'&lt;span class="uw-mobile-menu-toggle"&gt;Menu&lt;/span&gt;'</span>;
      <span class="hljs-variable">$items</span> = wp_nav_menu( <span class="hljs-keyword">array</span>(
              <span class="hljs-string">'title_li'</span>     =&gt; <span class="hljs-string">'&lt;a href="'</span>.get_bloginfo(<span class="hljs-string">'url'</span>).<span class="hljs-string">'" title="Home" class="homelink"&gt;Home&lt;/a&gt;'</span>,
              <span class="hljs-string">'theme_location'</span>  =&gt; UW_Dropdowns::LOCATION,
              <span class="hljs-string">'depth'</span> =&gt; <span class="hljs-number">1</span>,
              <span class="hljs-string">'container_class'</span> =&gt; <span class="hljs-string">''</span>,
              <span class="hljs-string">'menu_class'</span>      =&gt; <span class="hljs-string">''</span>,
              <span class="hljs-string">'fallback_cb'</span>     =&gt; <span class="hljs-string">''</span>,
              <span class="hljs-string">'echo'</span> =&gt; <span class="hljs-keyword">false</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>‘walker’          =&gt; new UW_Dropdowns_Walker_Menu()</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      ) );

      <span class="hljs-keyword">return</span> <span class="hljs-variable">$items</span> ? sprintf( <span class="hljs-string">'&lt;ul class="uw-mobile-menu first-level"&gt;%s%s&lt;/ul&gt;'</span>, <span class="hljs-variable">$toggle</span>, <span class="hljs-variable">$items</span> ) : <span class="hljs-string">''</span>;


}

<span class="hljs-keyword">if</span> ( ! function_exists(<span class="hljs-string">'get_uw_breadcrumbs'</span>) ) :

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get_uw_breadcrumbs</span><span class="hljs-params">()</span>
  </span>{

    <span class="hljs-keyword">global</span> <span class="hljs-variable">$post</span>;
    <span class="hljs-variable">$ancestors</span> = array_reverse( get_post_ancestors( <span class="hljs-variable">$post</span><span class="hljs-variable">-&gt;ID</span> ) );
    <span class="hljs-variable">$html</span> = <span class="hljs-string">'&lt;li&gt;&lt;a href="http://uw.edu" title="University of Washington"&gt;Home&lt;/a&gt;&lt;/li&gt;'</span>;
    <span class="hljs-variable">$html</span> .= <span class="hljs-string">'&lt;li'</span> . (is_front_page() ? <span class="hljs-string">' class="current"'</span> : <span class="hljs-string">''</span>) . <span class="hljs-string">'&gt;&lt;a href="'</span> . get_bloginfo(<span class="hljs-string">'url'</span>) . <span class="hljs-string">'" title="'</span> . get_bloginfo(<span class="hljs-string">'title'</span>) . <span class="hljs-string">'"&gt;'</span> . get_bloginfo(<span class="hljs-string">'title'</span>) . <span class="hljs-string">'&lt;/a&gt;&lt;li&gt;'</span>;

    <span class="hljs-keyword">if</span> ( is_404() )
    {
        <span class="hljs-variable">$html</span> .=  <span class="hljs-string">'&lt;li class="current"&gt;&lt;a href="'</span>. home_url(<span class="hljs-string">'/'</span>) .<span class="hljs-string">'" title="Woof! '</span>. get_bloginfo(<span class="hljs-string">'url'</span>) .<span class="hljs-string">'"&gt;Woof!&lt;/a&gt;'</span>;
    } <span class="hljs-keyword">else</span>

    <span class="hljs-keyword">if</span> ( is_search() )
    {
        <span class="hljs-variable">$html</span> .=  <span class="hljs-string">'&lt;li class="current"&gt;&lt;a href="'</span>. get_search_link( get_search_query() ) .<span class="hljs-string">'" title="'</span>. esc_attr( get_search_query() ) .<span class="hljs-string">'"&gt;Search results for '</span> . get_search_query() . <span class="hljs-string">'&lt;/a&gt;'</span>;
    } <span class="hljs-keyword">else</span>

    <span class="hljs-keyword">if</span> ( is_author() )
    {
        <span class="hljs-variable">$author</span> = get_queried_object();
        <span class="hljs-variable">$html</span> .=  <span class="hljs-string">'&lt;li class="current"&gt;&lt;a href="'</span> . get_author_posts_url( <span class="hljs-variable">$author</span><span class="hljs-variable">-&gt;ID</span> ) . <span class="hljs-string">'" title="'</span>. esc_attr( <span class="hljs-variable">$author</span><span class="hljs-variable">-&gt;display_name</span> ) .<span class="hljs-string">'"&gt; Author: '</span>  . <span class="hljs-variable">$author</span><span class="hljs-variable">-&gt;display_name</span> . <span class="hljs-string">'&lt;/a&gt;'</span>;
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>If the current view is a post type other than page or attachment then the breadcrumbs will be taxonomies.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span>( is_category() || is_single() || is_post_type_archive() )
    {

      <span class="hljs-keyword">if</span> ( is_post_type_archive() )
      {
        <span class="hljs-variable">$posttype</span> = get_post_type_object( get_post_type() );
        <span class="hljs-variable">$html</span> .=  <span class="hljs-string">'&lt;li class="current"&gt;&lt;a href="'</span>  . get_post_type_archive_link( <span class="hljs-variable">$posttype</span><span class="hljs-variable">-&gt;query_var</span> ) .<span class="hljs-string">'" title="'</span>. <span class="hljs-variable">$posttype</span><span class="hljs-variable">-&gt;labels</span><span class="hljs-variable">-&gt;menu_name</span> .<span class="hljs-string">'"&gt;'</span>. <span class="hljs-variable">$posttype</span><span class="hljs-variable">-&gt;labels</span><span class="hljs-variable">-&gt;menu_name</span>  . <span class="hljs-string">'&lt;/a&gt;'</span>;
      }

      <span class="hljs-keyword">if</span> ( is_category() )
      {
        <span class="hljs-variable">$category</span> = get_category( get_query_var( <span class="hljs-string">'cat'</span> ) );
        <span class="hljs-variable">$html</span> .=  <span class="hljs-string">'&lt;li class="current"&gt;&lt;a href="'</span>  . get_category_link( <span class="hljs-variable">$category</span><span class="hljs-variable">-&gt;term_id</span> ) .<span class="hljs-string">'" title="'</span>. get_cat_name( <span class="hljs-variable">$category</span><span class="hljs-variable">-&gt;term_id</span> ).<span class="hljs-string">'"&gt;'</span>. get_cat_name(<span class="hljs-variable">$category</span><span class="hljs-variable">-&gt;term_id</span> ) . <span class="hljs-string">'&lt;/a&gt;'</span>;
      }

      <span class="hljs-keyword">if</span> ( is_single() )
      {
        <span class="hljs-keyword">if</span> ( has_category() )
        {
          <span class="hljs-variable">$category</span> = array_shift( get_the_category( <span class="hljs-variable">$post</span><span class="hljs-variable">-&gt;ID</span>  ) ) ;
          <span class="hljs-variable">$html</span> .=  <span class="hljs-string">'&lt;li&gt;&lt;a href="'</span>  . get_category_link( <span class="hljs-variable">$category</span><span class="hljs-variable">-&gt;term_id</span> ) .<span class="hljs-string">'" title="'</span>. get_cat_name( <span class="hljs-variable">$category</span><span class="hljs-variable">-&gt;term_id</span> ).<span class="hljs-string">'"&gt;'</span>. get_cat_name(<span class="hljs-variable">$category</span><span class="hljs-variable">-&gt;term_id</span> ) . <span class="hljs-string">'&lt;/a&gt;'</span>;
        }
        <span class="hljs-keyword">if</span> ( uw_is_custom_post_type() )
        {
          <span class="hljs-variable">$posttype</span> = get_post_type_object( get_post_type() );
          <span class="hljs-variable">$html</span> .=  <span class="hljs-string">'&lt;li&gt;&lt;a href="'</span>  . get_post_type_archive_link( <span class="hljs-variable">$posttype</span><span class="hljs-variable">-&gt;query_var</span> ) .<span class="hljs-string">'" title="'</span>. <span class="hljs-variable">$posttype</span><span class="hljs-variable">-&gt;labels</span><span class="hljs-variable">-&gt;menu_name</span> .<span class="hljs-string">'"&gt;'</span>. <span class="hljs-variable">$posttype</span><span class="hljs-variable">-&gt;labels</span><span class="hljs-variable">-&gt;menu_name</span>  . <span class="hljs-string">'&lt;/a&gt;'</span>;
        }
        <span class="hljs-variable">$html</span> .=  <span class="hljs-string">'&lt;li class="current"&gt;&lt;a href="'</span>  . get_permalink( <span class="hljs-variable">$post</span><span class="hljs-variable">-&gt;ID</span> ) .<span class="hljs-string">'" title="'</span>. esc_attr( get_the_title( <span class="hljs-variable">$post</span><span class="hljs-variable">-&gt;ID</span>  ) ) .<span class="hljs-string">'"&gt;'</span>. get_the_title( <span class="hljs-variable">$post</span><span class="hljs-variable">-&gt;ID</span> ) . <span class="hljs-string">'&lt;/a&gt;'</span>;
      }
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>If the current view is a page then the breadcrumbs will be parent pages.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ( is_page() )
    {

      <span class="hljs-keyword">if</span> ( ! is_home() || ! is_front_page() )
        <span class="hljs-variable">$ancestors</span>[] = <span class="hljs-variable">$post</span><span class="hljs-variable">-&gt;ID</span>;

      <span class="hljs-keyword">if</span> ( ! is_front_page() )
      {
        <span class="hljs-keyword">foreach</span> ( array_filter( <span class="hljs-variable">$ancestors</span> ) <span class="hljs-keyword">as</span> <span class="hljs-variable">$index</span>=&gt;<span class="hljs-variable">$ancestor</span> )
        {
          <span class="hljs-variable">$class</span>      = <span class="hljs-variable">$index</span>+<span class="hljs-number">1</span> == count(<span class="hljs-variable">$ancestors</span>) ? <span class="hljs-string">' class="current" '</span> : <span class="hljs-string">''</span>;
          <span class="hljs-variable">$page</span>       = get_post( <span class="hljs-variable">$ancestor</span> );
          <span class="hljs-variable">$url</span>        = get_permalink( <span class="hljs-variable">$page</span><span class="hljs-variable">-&gt;ID</span> );
          <span class="hljs-variable">$title_attr</span> = esc_attr( <span class="hljs-variable">$page</span><span class="hljs-variable">-&gt;post_title</span> );
          <span class="hljs-variable">$html</span> .= <span class="hljs-string">"&lt;li $class&gt;&lt;a href=\"$url\" title=\"{$title_attr}\"&gt;{$page-&gt;post_title}&lt;/a&gt;&lt;/li&gt;"</span>;
        }
      }

    }

    <span class="hljs-keyword">return</span> <span class="hljs-string">"&lt;nav class='uw-breadcrumbs' role='navigation' aria-label='breadcrumbs'&gt;&lt;ul&gt;$html&lt;/ul&gt;&lt;/nav&gt;"</span>;
  }

<span class="hljs-keyword">endif</span>;

<span class="hljs-keyword">if</span> ( ! function_exists(<span class="hljs-string">'uw_breadcrumbs'</span>) ) :

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uw_breadcrumbs</span><span class="hljs-params">()</span>
  </span>{
    <span class="hljs-keyword">echo</span> get_uw_breadcrumbs();
  }

<span class="hljs-keyword">endif</span>;

<span class="hljs-keyword">endif</span>;

<span class="hljs-keyword">if</span> ( ! function_exists( <span class="hljs-string">'uw_thumbnail_url'</span> ) ) :
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uw_thumbnail_url</span><span class="hljs-params">( <span class="hljs-variable">$size</span> = <span class="hljs-string">'original'</span> )</span>
  </span>{
    <span class="hljs-keyword">echo</span> uw_get_thumbnail_url( <span class="hljs-variable">$size</span> );
  }
<span class="hljs-keyword">endif</span>;

<span class="hljs-keyword">if</span> ( ! function_exists( <span class="hljs-string">'uw_get_thumbnail_url'</span> ) ) :
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uw_get_thumbnail_url</span><span class="hljs-params">( <span class="hljs-variable">$size</span> = <span class="hljs-string">'original'</span> )</span>
  </span>{
    <span class="hljs-variable">$thumbnail</span> = wp_get_attachment_image_src( get_post_thumbnail_id(), <span class="hljs-string">'original'</span>, <span class="hljs-keyword">true</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-variable">$thumbnail</span>[<span class="hljs-number">0</span>];
  }
<span class="hljs-keyword">endif</span>;

<span class="hljs-keyword">if</span> ( ! function_exists( <span class="hljs-string">'is_pdf'</span> ) ):

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">is_pdf</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> get_post_mime_type() == <span class="hljs-string">'application/pdf'</span>;
  }

<span class="hljs-keyword">endif</span>;

<span class="hljs-keyword">if</span> ( ! function_exists( <span class="hljs-string">'uw_get_sticky_posts'</span> ))  :
   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uw_get_sticky_posts</span><span class="hljs-params">( <span class="hljs-variable">$args</span> = null )</span>
  </span>{
    <span class="hljs-variable">$stickyposts</span> = get_option( <span class="hljs-string">'sticky_posts'</span> );

    <span class="hljs-variable">$defaults</span> = <span class="hljs-keyword">array</span>( <span class="hljs-string">'post__in'</span> =&gt; <span class="hljs-variable">$stickyposts</span> );

    <span class="hljs-variable">$options</span> = wp_parse_args( <span class="hljs-variable">$args</span>, <span class="hljs-variable">$defaults</span> );

    <span class="hljs-keyword">return</span> get_posts(  <span class="hljs-variable">$options</span> );
  }
<span class="hljs-keyword">endif</span>;

<span class="hljs-keyword">if</span> ( ! function_exists(<span class="hljs-string">'uw_is_custom_post_type'</span>) ) :

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uw_is_custom_post_type</span><span class="hljs-params">()</span>
  </span>{
    <span class="hljs-keyword">return</span> array_key_exists(  get_post_type(),  get_post_types( <span class="hljs-keyword">array</span>( _builtin=&gt;<span class="hljs-keyword">false</span>) ) );
  }

<span class="hljs-keyword">endif</span>;</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
