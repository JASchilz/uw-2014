<!DOCTYPE html>

<html>
<head>
  <title>class.dropdowns_walker.php</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="404.html">
                404.php
              </a>
            
              
              <a class="source" href="application.html">
                application.php
              </a>
            
              
              <a class="source" href="archive.html">
                archive.php
              </a>
            
              
              <a class="source" href="breadcrumbs.html">
                breadcrumbs.php
              </a>
            
              
              <a class="source" href="comments.html">
                comments.php
              </a>
            
              
              <a class="source" href="content-archive.html">
                content-archive.php
              </a>
            
              
              <a class="source" href="content-image.html">
                content-image.php
              </a>
            
              
              <a class="source" href="content-page.html">
                content-page.php
              </a>
            
              
              <a class="source" href="content-pdf.html">
                content-pdf.php
              </a>
            
              
              <a class="source" href="content.html">
                content.php
              </a>
            
              
              <a class="source" href="footer.html">
                footer.php
              </a>
            
              
              <a class="source" href="functions.html">
                functions.php
              </a>
            
              
              <a class="source" href="header-image.html">
                header-image.php
              </a>
            
              
              <a class="source" href="header.html">
                header.php
              </a>
            
              
              <a class="source" href="image.html">
                image.php
              </a>
            
              
              <a class="source" href="template-functions.html">
                template-functions.php
              </a>
            
              
              <a class="source" href="index.html">
                index.php
              </a>
            
              
              <a class="source" href="uw.html">
                uw.js
              </a>
            
              
              <a class="source" href="menu-mobile.html">
                menu-mobile.php
              </a>
            
              
              <a class="source" href="page.html">
                page.php
              </a>
            
              
              <a class="source" href="search.html">
                search.php
              </a>
            
              
              <a class="source" href="searchform.html">
                searchform.php
              </a>
            
              
              <a class="source" href="class.button-shortcode.html">
                class.button-shortcode.php
              </a>
            
              
              <a class="source" href="class.dropdowns_walker.html">
                class.dropdowns_walker.php
              </a>
            
              
              <a class="source" href="class.filters.html">
                class.filters.php
              </a>
            
              
              <a class="source" href="class.googleapps.html">
                class.googleapps.php
              </a>
            
              
              <a class="source" href="class.images.html">
                class.images.php
              </a>
            
              
              <a class="source" href="class.install.html">
                class.install.php
              </a>
            
              
              <a class="source" href="class.mimes.html">
                class.mimes.php
              </a>
            
              
              <a class="source" href="class.squish_bugs.html">
                class.squish_bugs.php
              </a>
            
              
              <a class="source" href="class.tile-box-shortcode.html">
                class.tile-box-shortcode.php
              </a>
            
              
              <a class="source" href="class.trumba-shortcode.html">
                class.trumba-shortcode.php
              </a>
            
              
              <a class="source" href="class.users.html">
                class.users.php
              </a>
            
              
              <a class="source" href="class.uw-carousel.html">
                class.uw-carousel.php
              </a>
            
              
              <a class="source" href="class.uw-directory.html">
                class.uw-directory.php
              </a>
            
              
              <a class="source" href="class.uw-documentation.html">
                class.uw-documentation.php
              </a>
            
              
              <a class="source" href="class.uw-dropdowns.html">
                class.uw-dropdowns.php
              </a>
            
              
              <a class="source" href="class.uw-enclosure.html">
                class.uw-enclosure.php
              </a>
            
              
              <a class="source" href="class.uw-iframes.html">
                class.uw-iframes.php
              </a>
            
              
              <a class="source" href="class.uw-media-caption.html">
                class.uw-media-caption.php
              </a>
            
              
              <a class="source" href="class.uw-media-credit.html">
                class.uw-media-credit.php
              </a>
            
              
              <a class="source" href="class.uw-oembeds.html">
                class.uw-oembeds.php
              </a>
            
              
              <a class="source" href="class.uw-page-attributes-meta-box.html">
                class.uw-page-attributes-meta-box.php
              </a>
            
              
              <a class="source" href="class.uw-quicklinks.html">
                class.uw-quicklinks.php
              </a>
            
              
              <a class="source" href="class.uw-replace-media.html">
                class.uw-replace-media.php
              </a>
            
              
              <a class="source" href="class.uw-scripts.html">
                class.uw-scripts.php
              </a>
            
              
              <a class="source" href="class.uw-shortcodes.html">
                class.uw-shortcodes.php
              </a>
            
              
              <a class="source" href="class.uw-styles.html">
                class.uw-styles.php
              </a>
            
              
              <a class="source" href="class.uw-tinymce.html">
                class.uw-tinymce.php
              </a>
            
              
              <a class="source" href="class.uw.html">
                class.uw.php
              </a>
            
              
              <a class="source" href="class.youtube-shortcode.html">
                class.youtube-shortcode.php
              </a>
            
              
              <a class="source" href="sidebar.html">
                sidebar.php
              </a>
            
              
              <a class="source" href="template-big-hero.html">
                template-big-hero.php
              </a>
            
              
              <a class="source" href="template-no-hero.html">
                template-no-hero.php
              </a>
            
              
              <a class="source" href="template-no-sidebar.html">
                template-no-sidebar.php
              </a>
            
              
              <a class="source" href="template-no-title.html">
                template-no-title.php
              </a>
            
              
              <a class="source" href="template-small-hero.html">
                template-small-hero.php
              </a>
            
              
              <a class="source" href="thinstrip.html">
                thinstrip.php
              </a>
            
              
              <a class="source" href="class.uw-blogroll.html">
                class.uw-blogroll.php
              </a>
            
              
              <a class="source" href="class.uw-campus-map.html">
                class.uw-campus-map.php
              </a>
            
              
              <a class="source" href="class.uw-intro.html">
                class.uw-intro.php
              </a>
            
              
              <a class="source" href="class.uw-recent-posts.html">
                class.uw-recent-posts.php
              </a>
            
              
              <a class="source" href="class.uw-related-posts.html">
                class.uw-related-posts.php
              </a>
            
              
              <a class="source" href="class.uw-rss.html">
                class.uw-rss.php
              </a>
            
              
              <a class="source" href="class.uw-sidebar.html">
                class.uw-sidebar.php
              </a>
            
              
              <a class="source" href="class.uw-single-image.html">
                class.uw-single-image.php
              </a>
            
              
              <a class="source" href="class.uw-top-posts.html">
                class.uw-top-posts.php
              </a>
            
              
              <a class="source" href="class.uw-twitter.html">
                class.uw-twitter.php
              </a>
            
              
              <a class="source" href="class.uw-widget-visibility.html">
                class.uw-widget-visibility.php
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>class.dropdowns_walker.php</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-preprocessor">&lt;?php</span>

  <span class="hljs-comment">/**
   * From the Walker class.
   *  This removes the classnames and adds accessibility tags
   */</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UW_Dropdowns_Walker_Menu</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Walker_Nav_Menu</span>
</span>{

  <span class="hljs-keyword">private</span> <span class="hljs-variable">$CURRENT</span> = <span class="hljs-string">''</span>;

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">()</span>
  </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>add_filter(‘wp_nav_menu’, array($this, ‘add_role_menubar’));
add_filter(‘wp_nav_menu’, array($this, ‘add_aria_expanded’));</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	}</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p> function add_role_menubar($html)
 {
   return str_replace(‘class=”dawgdrops-nav”‘, ‘class=”dawgdrops-nav” role=”menubar”‘, $html);
 }</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">start_lvl</span><span class="hljs-params">( &amp;<span class="hljs-variable">$output</span>, <span class="hljs-variable">$depth</span>, <span class="hljs-variable">$args</span> )</span>
  </span>{
    <span class="hljs-keyword">if</span> ( <span class="hljs-variable">$depth</span> &gt; <span class="hljs-number">0</span> ) <span class="hljs-keyword">return</span>;
		<span class="hljs-variable">$output</span> .= <span class="hljs-string">"&lt;ul role=\"group\" id=\"menu-{$this-&gt;CURRENT}\" aria-labelledby='{$this-&gt;CURRENT}' aria-expanded=\"false\" class=\"dawgdrops-menu\"&gt;\n"</span>;
	}

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">end_lvl</span><span class="hljs-params">( &amp;<span class="hljs-variable">$output</span>, <span class="hljs-variable">$depth</span> = <span class="hljs-number">0</span>, <span class="hljs-variable">$args</span> = array<span class="hljs-params">()</span> )</span>
  </span>{
    <span class="hljs-keyword">if</span> ( <span class="hljs-variable">$depth</span> &gt; <span class="hljs-number">0</span> )
      <span class="hljs-keyword">return</span>;

		<span class="hljs-variable">$indent</span> = str_repeat(<span class="hljs-string">"\t"</span>, <span class="hljs-variable">$depth</span>);
		<span class="hljs-variable">$output</span> .= <span class="hljs-string">"$indent&lt;/ul&gt;\n"</span>;
	}

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">display_element</span> <span class="hljs-params">(<span class="hljs-variable">$element</span>, &amp;<span class="hljs-variable">$children_elements</span>, <span class="hljs-variable">$max_depth</span>, <span class="hljs-variable">$depth</span> = <span class="hljs-number">0</span>, <span class="hljs-variable">$args</span>, &amp;<span class="hljs-variable">$output</span>)</span>
  </span>{
      <span class="hljs-variable">$element</span><span class="hljs-variable">-&gt;has_children</span> = <span class="hljs-keyword">isset</span>(<span class="hljs-variable">$children_elements</span>[<span class="hljs-variable">$element</span><span class="hljs-variable">-&gt;ID</span>]) &amp;&amp; !<span class="hljs-keyword">empty</span>(<span class="hljs-variable">$children_elements</span>[<span class="hljs-variable">$element</span><span class="hljs-variable">-&gt;ID</span>]);
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">parent</span>::display_element(<span class="hljs-variable">$element</span>, <span class="hljs-variable">$children_elements</span>, <span class="hljs-variable">$max_depth</span>, <span class="hljs-variable">$depth</span>, <span class="hljs-variable">$args</span>, <span class="hljs-variable">$output</span>);
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">start_el</span><span class="hljs-params">(&amp;<span class="hljs-variable">$output</span>, <span class="hljs-variable">$item</span>, <span class="hljs-variable">$depth</span>, <span class="hljs-variable">$args</span>)</span>
  </span>{
    <span class="hljs-keyword">if</span> ( <span class="hljs-variable">$depth</span> &gt; <span class="hljs-number">1</span> )
      <span class="hljs-keyword">return</span>;

    <span class="hljs-variable">$this</span><span class="hljs-variable">-&gt;CURRENT</span> = <span class="hljs-variable">$item</span><span class="hljs-variable">-&gt;post_name</span>;
    <span class="hljs-variable">$title</span> = ! <span class="hljs-keyword">empty</span>( <span class="hljs-variable">$item</span><span class="hljs-variable">-&gt;title</span> ) ? <span class="hljs-variable">$item</span><span class="hljs-variable">-&gt;title</span> : <span class="hljs-variable">$item</span><span class="hljs-variable">-&gt;post_title</span>;

    <span class="hljs-variable">$controls</span> = <span class="hljs-variable">$depth</span> == <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-variable">$item</span><span class="hljs-variable">-&gt;has_children</span> ? <span class="hljs-string">'aria-controls="menu-'</span>.<span class="hljs-variable">$item</span><span class="hljs-variable">-&gt;post_name</span>.<span class="hljs-string">'" aria-expanded="false" aria-haspopup="true"'</span> : <span class="hljs-string">''</span>;

		<span class="hljs-variable">$indent</span> = ( <span class="hljs-variable">$depth</span> ) ? str_repeat( <span class="hljs-string">"\t"</span>, <span class="hljs-variable">$depth</span> ) : <span class="hljs-string">''</span>;

		<span class="hljs-variable">$classes</span>     = <span class="hljs-variable">$depth</span> == <span class="hljs-number">0</span> ? <span class="hljs-keyword">array</span>( <span class="hljs-string">'dawgdrops-item'</span>, <span class="hljs-variable">$item</span><span class="hljs-variable">-&gt;classes</span>[<span class="hljs-number">0</span>] ) : <span class="hljs-keyword">array</span>();
		<span class="hljs-variable">$class_names</span> = join( <span class="hljs-string">' '</span>, apply_filters( <span class="hljs-string">'nav_menu_css_class'</span>, array_filter( <span class="hljs-variable">$classes</span> ), <span class="hljs-variable">$item</span> ) );

    <span class="hljs-variable">$li_classnames</span> = ! <span class="hljs-keyword">empty</span>(<span class="hljs-variable">$classes</span>) ? <span class="hljs-string">'class="'</span>. <span class="hljs-variable">$class_names</span> .<span class="hljs-string">'"'</span> : <span class="hljs-string">''</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>$li_attributes = $depth == 0 ? ‘ role=”presentation” ‘ : ‘’;</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-variable">$li_attributes</span> = <span class="hljs-variable">$depth</span> == <span class="hljs-number">0</span> ? <span class="hljs-string">' '</span> : <span class="hljs-string">''</span>;

		<span class="hljs-variable">$output</span> .= <span class="hljs-variable">$indent</span> . <span class="hljs-string">'&lt;li'</span> . <span class="hljs-variable">$li_attributes</span> . <span class="hljs-variable">$li_classnames</span> .<span class="hljs-string">'&gt;'</span>;

		<span class="hljs-variable">$attributes</span>  = ! <span class="hljs-keyword">empty</span>( <span class="hljs-variable">$item</span><span class="hljs-variable">-&gt;attr_title</span> ) ? <span class="hljs-string">' title="'</span>  . esc_attr( <span class="hljs-variable">$item</span><span class="hljs-variable">-&gt;attr_title</span> ) .<span class="hljs-string">'"'</span> : <span class="hljs-string">''</span>;
		<span class="hljs-variable">$attributes</span> .= ! <span class="hljs-keyword">empty</span>( <span class="hljs-variable">$item</span><span class="hljs-variable">-&gt;target</span> )     ? <span class="hljs-string">' target="'</span> . esc_attr( <span class="hljs-variable">$item</span><span class="hljs-variable">-&gt;target</span>     ) .<span class="hljs-string">'"'</span> : <span class="hljs-string">''</span>;
		<span class="hljs-variable">$attributes</span> .= ! <span class="hljs-keyword">empty</span>( <span class="hljs-variable">$item</span><span class="hljs-variable">-&gt;xfn</span> )        ? <span class="hljs-string">' rel="'</span>    . esc_attr( <span class="hljs-variable">$item</span><span class="hljs-variable">-&gt;xfn</span>        ) .<span class="hljs-string">'"'</span> : <span class="hljs-string">''</span>;
		<span class="hljs-variable">$attributes</span> .= ! <span class="hljs-keyword">empty</span>( <span class="hljs-variable">$item</span><span class="hljs-variable">-&gt;url</span> )        ? <span class="hljs-string">' href="'</span>   . esc_attr( <span class="hljs-variable">$item</span><span class="hljs-variable">-&gt;url</span>        ) .<span class="hljs-string">'"'</span> : <span class="hljs-string">''</span>;

		<span class="hljs-variable">$attributes</span> .= <span class="hljs-variable">$depth</span> == <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-variable">$item</span><span class="hljs-variable">-&gt;has_children</span> ? <span class="hljs-string">' class="dropdown-toggle"'</span> : <span class="hljs-string">''</span>;

		<span class="hljs-variable">$attributes</span> .= <span class="hljs-variable">$depth</span> == <span class="hljs-number">1</span>                ? <span class="hljs-string">' tabindex="-1" '</span>                                : <span class="hljs-string">''</span>;
		<span class="hljs-variable">$attributes</span> .= <span class="hljs-string">' title="'</span>. <span class="hljs-variable">$title</span> .<span class="hljs-string">'" '</span>;
        <span class="hljs-variable">$attributes</span> .= <span class="hljs-variable">$controls</span>;

        <span class="hljs-variable">$attributes</span> .= <span class="hljs-string">' id="'</span> . <span class="hljs-variable">$this</span><span class="hljs-variable">-&gt;CURRENT</span> . <span class="hljs-string">'"'</span>;

		<span class="hljs-variable">$item_output</span> = <span class="hljs-variable">$args</span><span class="hljs-variable">-&gt;before</span>;
		<span class="hljs-variable">$item_output</span> .= <span class="hljs-string">'&lt;a'</span>. <span class="hljs-variable">$attributes</span> .<span class="hljs-string">'&gt;'</span>;
		<span class="hljs-variable">$item_output</span> .= <span class="hljs-variable">$args</span><span class="hljs-variable">-&gt;link_before</span> . apply_filters( <span class="hljs-string">'the_title'</span>, <span class="hljs-variable">$title</span>, <span class="hljs-variable">$item</span><span class="hljs-variable">-&gt;ID</span> ) . <span class="hljs-variable">$args</span><span class="hljs-variable">-&gt;link_after</span>;
		<span class="hljs-variable">$item_output</span> .= <span class="hljs-string">'&lt;/a&gt;'</span>;
		<span class="hljs-variable">$item_output</span> .= <span class="hljs-variable">$args</span><span class="hljs-variable">-&gt;after</span>;

		<span class="hljs-variable">$output</span> .= apply_filters( <span class="hljs-string">'walker_nav_menu_start_el'</span>, <span class="hljs-variable">$item_output</span>, <span class="hljs-variable">$item</span>, <span class="hljs-variable">$depth</span>, <span class="hljs-variable">$args</span> );
	}

}</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
